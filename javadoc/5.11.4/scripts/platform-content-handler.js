let highlightedAnchor,topNavbarOffset;filteringContext={dependencies:{},restrictedDependencies:[],activeFilters:[]};let sourcesetNotification,instances=[];const samplesDarkThemeName="darcula",samplesLightThemeName="idea";window.addEventListener("load",(()=>{document.querySelectorAll("div[data-platform-hinted]").forEach((e=>e.addEventListener("click",(t=>togglePlatformDependent(t,e)))));const e=document.getElementById("filter-section");e&&(e.addEventListener("click",(e=>filterButtonHandler(e))),initializeFiltering()),initTabs(),handleAnchor(),initHidingLeftNavigation(),topNavbarOffset=document.getElementById("navigation-wrapper"),darkModeSwitch()}));const darkModeSwitch=()=>{const e="dokka-dark-mode",t=localStorage.getItem(e),i=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,n=t?JSON.parse(t):i,o=document.getElementById("theme-toggle-button");initPlayground(n?"darcula":"idea"),o.addEventListener("click",(()=>{const t=document.getElementsByTagName("html")[0].classList;t.toggle("theme-dark");const i=t.contains("theme-dark");initPlayground(i?"darcula":"idea"),localStorage.setItem(e,JSON.stringify(i))}))},initPlayground=e=>{samplesAreEnabled()&&(instances.forEach((e=>e.destroy())),instances=[],document.querySelectorAll("code.runnablesample").forEach((e=>{e.removeAttribute("data-kotlin-playground-initialized")})),KotlinPlayground("code.runnablesample",{getInstance:e=>{instances.push(e)},theme:e}))},samplesAreEnabled=()=>{try{return KotlinPlayground,!0}catch(e){return!1}},initHidingLeftNavigation=()=>{document.getElementById("menu-toggle").onclick=function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),document.getElementById("leftColumn").classList.toggle("open")},document.getElementById("main").onclick=()=>{document.getElementById("leftColumn").classList.remove("open")}};function scrollToElementInContent(e){const t=()=>document.getElementById("main").scrollTo({top:e.offsetTop-topNavbarOffset.offsetHeight,behavior:"smooth"});topNavbarOffset?t():setTimeout((()=>{topNavbarOffset?t():waitForScroll()}),50)}function handleAnchor(){highlightedAnchor&&(highlightedAnchor.classList.remove("anchor-highlight"),highlightedAnchor=null);let e=function(t){return t&&t.hasAttribute?t.hasAttribute("data-togglable")?t.getAttribute("data-togglable"):e(t.parentNode):null},t=window.location.hash;if(""!=t){t=t.substring(1);let i=document.querySelector('a[data-name="'+t+'"]');if(i){const t=i.nextElementSibling;if("none"==window.getComputedStyle(t).display){let i=function(e){let t=null;return document.querySelectorAll("div[tabs-section] > button[data-togglable]").forEach((i=>{i.getAttribute("data-togglable").split(",").includes(e)&&(t=i)})),t}(e(t));i&&toggleSections(i)}t&&(t.classList.add("anchor-highlight"),highlightedAnchor=t),scrollToElementInContent(i)}}}function initTabs(){const e=document.querySelector(".main-content"),t="active-tab-"+(e?e.getAttribute("data-page-type"):null);document.querySelectorAll("div[tabs-section]").forEach((e=>{showCorrespondingTabBody(e),e.addEventListener("click",(({target:e})=>{const i=e?e.getAttribute("data-togglable"):null;i&&(localStorage.setItem(t,JSON.stringify(i)),toggleSections(e))}))}));const i=localStorage.getItem(t);if(!i)return;const n=document.querySelector('div[tabs-section] > button[data-togglable="'+JSON.parse(i)+'"]');n&&toggleSections(n)}function showCorrespondingTabBody(e){const t=e.querySelector("button[data-active]");t&&toggleSections(t)}function filterButtonHandler(e){if("BUTTON"==e.target.tagName&&e.target.hasAttribute("data-filter")){let t=e.target.getAttribute("data-filter");-1!=filteringContext.activeFilters.indexOf(t)?filterSourceset(t):unfilterSourceset(t)}}function initializeFiltering(){filteringContext.dependencies=JSON.parse(sourceset_dependencies),document.querySelectorAll("#filter-section > button").forEach((e=>filteringContext.restrictedDependencies.push(e.getAttribute("data-filter")))),Object.keys(filteringContext.dependencies).forEach((e=>{filteringContext.dependencies[e]=filteringContext.dependencies[e].filter((e=>-1!==filteringContext.restrictedDependencies.indexOf(e)))}));let e=window.localStorage.getItem("inactive-filters");if(e){let t=JSON.parse(e);filteringContext.activeFilters=filteringContext.restrictedDependencies.filter((e=>-1==t.indexOf(e)))}else filteringContext.activeFilters=filteringContext.restrictedDependencies;refreshFiltering()}function filterSourceset(e){filteringContext.activeFilters=filteringContext.activeFilters.filter((t=>t!=e)),refreshFiltering(),addSourcesetFilterToCache(e)}function unfilterSourceset(e){0==filteringContext.activeFilters.length?(filteringContext.activeFilters=filteringContext.dependencies[e].concat([e]),refreshFiltering(),filteringContext.dependencies[e].concat([e]).forEach((e=>removeSourcesetFilterFromCache(e)))):(filteringContext.activeFilters.push(e),refreshFiltering(),removeSourcesetFilterFromCache(e))}function addSourcesetFilterToCache(e){let t=localStorage.getItem("inactive-filters");if(t){let i=JSON.parse(t);localStorage.setItem("inactive-filters",JSON.stringify(i.concat([e])))}else localStorage.setItem("inactive-filters",JSON.stringify([e]))}function removeSourcesetFilterFromCache(e){let t=localStorage.getItem("inactive-filters");if(t){let i=JSON.parse(t);localStorage.setItem("inactive-filters",JSON.stringify(i.filter((t=>t!=e))))}}function toggleSections(e){const t=e.getAttribute("data-togglable").split(",");var i;(t=>{for(const i of document.getElementsByClassName(t))for(const t of i.children)t.getAttribute("data-togglable")===e.getAttribute("data-togglable")?t.setAttribute("data-active",""):t.removeAttribute("data-active")})("tabs-section"),i="tabs-section-body",document.querySelectorAll("."+i+" *[data-togglable]").forEach((e=>{t.includes(e.getAttribute("data-togglable"))?e.setAttribute("data-active",""):e.classList.contains("sourceset-dependent-content")||e.removeAttribute("data-active")}))}function togglePlatformDependent(e,t){let i=e.target;if("BUTTON"!=i.tagName)return;let n=i.getAttribute("data-toggle");for(let o of t.children)if(o.hasAttribute("data-toggle-list"))for(let e of o.children)e==i?e.setAttribute("data-active",""):e!=i&&e.removeAttribute("data-active");else o.getAttribute("data-togglable")==n?o.setAttribute("data-active",""):o.removeAttribute("data-active")}function refreshFiltering(){let e=filteringContext.activeFilters;document.querySelectorAll("[data-filterable-set]").forEach((t=>{let i=t.getAttribute("data-filterable-set").split(",").filter((t=>-1!==e.indexOf(t)));t.setAttribute("data-filterable-current",i.join(","))})),refreshFilterButtons(),refreshPlatformTabs(),refreshNoContentNotification(),refreshPlaygroundSamples()}function refreshPlaygroundSamples(){document.querySelectorAll("code.runnablesample").forEach((e=>{const t=e.KotlinPlayground;t&&t.view.codemirror.refresh()}))}function refreshNoContentNotification(){const e=document.getElementsByClassName("main-content")[0];if(0===filteringContext.activeFilters.length){e.style.display="none";const t=document.createElement("div");t.className="filtered-message",t.innerText="All documentation is filtered, please adjust your source set filters in top-right corner of the screen",sourcesetNotification=t,e.parentNode.prepend(t)}else sourcesetNotification&&sourcesetNotification.remove(),e.style.display="block"}function refreshPlatformTabs(){document.querySelectorAll(".platform-hinted > .platform-bookmarks-row").forEach((e=>{let t=!1,i=null;e.childNodes.forEach((e=>{""!=e.getAttribute("data-filterable-current")&&(null==i&&(i=e),e.hasAttribute("data-active")&&(t=!0))})),0==t&&i&&i.click()}))}function refreshFilterButtons(){document.querySelectorAll("#filter-section > button").forEach((e=>{-1!=filteringContext.activeFilters.indexOf(e.getAttribute("data-filter"))?e.setAttribute("data-active",""):e.removeAttribute("data-active")}))}window.onhashchange=handleAnchor;