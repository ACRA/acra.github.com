"use strict";(self.webpackChunkacra=self.webpackChunkacra||[]).push([[804],{3917:function(e,a,t){t.r(a),t.d(a,{frontMatter:function(){return c},contentTitle:function(){return s},metadata:function(){return p},toc:function(){return u},default:function(){return m}});var n=t(7462),r=t(3366),i=(t(7294),t(3905)),l=t(6966),o=["components"],c={sidebar_position:1},s=void 0,p={unversionedId:"Setup",id:"Setup",isDocsHomePage:!1,title:"Setup",description:"This Tutorial will show you how to set up ACRA and guide you through your initial configuration choices.",source:"@site/docs/Setup.mdx",sourceDirName:".",slug:"/Setup",permalink:"/docs/Setup",editUrl:"https://github.com/acra/acra/edit/master/web/docs/Setup.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",next:{title:"Interactions",permalink:"/docs/Interactions"}},u=[{value:"Prerequisites",id:"prerequisites",children:[],level:2},{value:"Dependencies",id:"dependencies",children:[{value:"Define ACRA Version",id:"define-acra-version",children:[],level:3},{value:"Choose sender",id:"choose-sender",children:[],level:3},{value:"Choose interaction",id:"choose-interaction",children:[],level:3},{value:"Optional Plugins",id:"optional-plugins",children:[],level:3}],level:2},{value:"Configuration",id:"configuration",children:[],level:2}],d={toc:u};function m(e){var a=e.components,t=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,n.Z)({},d,t,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This Tutorial will show you how to set up ACRA and guide you through your initial configuration choices."),(0,i.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,i.kt)("p",null,"This guide assumes you are using ",(0,i.kt)("inlineCode",{parentName:"p"},"com.android.tools.build:gradle:4.0.0")," or later."),(0,i.kt)("p",null,"Acra requires java 8 (native, not RetroLambda or similar):"),(0,i.kt)(l.TP,{mdxType:"GradleCode"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="build.gradle.kts"',title:'"build.gradle.kts"'},"android {\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n}\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-groovy",metastring:'title="build.gradle"',title:'"build.gradle"'},"android {\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n"))),(0,i.kt)("h2",{id:"dependencies"},"Dependencies"),(0,i.kt)("p",null,"Everything you find in this section belongs into the ",(0,i.kt)("inlineCode",{parentName:"p"},"dependencies")," block:"),(0,i.kt)(l.TP,{mdxType:"GradleCode"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:'title="build.gradle.kts"',title:'"build.gradle.kts"'},"dependencies {\n    //here\n}\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-groovy",metastring:'title="build.gradle"',title:'"build.gradle"'},"dependencies {\n    //here\n}\n"))),(0,i.kt)("h3",{id:"define-acra-version"},"Define ACRA Version"),(0,i.kt)("p",null,"Add the following snippet (with the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ACRA/acra/releases/latest"},"latest version"),")"),(0,i.kt)(l.TP,{mdxType:"GradleCode"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'val acraVersion = "<latest version>"\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-groovy"},"def acraVersion = '<latest version>'\n"))),(0,i.kt)("h3",{id:"choose-sender"},"Choose sender"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Http:"))),(0,i.kt)(l.TP,{mdxType:"GradleCode"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'implementation("ch.acra:acra-http:$acraVersion")\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-groovy"},'implementation "ch.acra:acra-http:$acraVersion"\n'))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Email:"))),(0,i.kt)(l.TP,{mdxType:"GradleCode"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'implementation("ch.acra:acra-mail:$acraVersion")\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-groovy"},'implementation "ch.acra:acra-mail:$acraVersion"\n'))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Custom:"))),(0,i.kt)(l.TP,{mdxType:"GradleCode"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'implementation("ch.acra:acra-core:$acraVersion")\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-groovy"},'implementation "ch.acra:acra-core:$acraVersion"\n'))),(0,i.kt)("p",null,"More info: ",(0,i.kt)("a",{parentName:"p",href:"Senders"},"Senders")),(0,i.kt)("h3",{id:"choose-interaction"},"Choose interaction"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Dialog:"))),(0,i.kt)(l.TP,{mdxType:"GradleCode"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'implementation("ch.acra:acra-dialog:$acraVersion")\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-groovy"},'implementation "ch.acra:acra-dialog:$acraVersion"\n'))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Notification:"))),(0,i.kt)(l.TP,{mdxType:"GradleCode"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'implementation("ch.acra:acra-notification:$acraVersion")\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-groovy"},'implementation "ch.acra:acra-notification:$acraVersion"\n'))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Toast:"))),(0,i.kt)(l.TP,{mdxType:"GradleCode"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'implementation("ch.acra:acra-toast:$acraVersion")\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-groovy"},'implementation "ch.acra:acra-toast:$acraVersion"\n'))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Silent:"))),(0,i.kt)("p",null,"Add nothing."),(0,i.kt)("p",null,"More info: ",(0,i.kt)("a",{parentName:"p",href:"interactions"},"Interactions")),(0,i.kt)("h3",{id:"optional-plugins"},"Optional Plugins"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Limiter:")," ")),(0,i.kt)("p",null,"Limits how many reports acra sends from one device"),(0,i.kt)(l.TP,{mdxType:"GradleCode"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'implementation("ch.acra:acra-limiter:$acraVersion")\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-groovy"},'implementation "ch.acra:acra-limiter:$acraVersion"\n'))),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Advanced Scheduler:")," ","[since 5.2.0-rc1]"," ")),(0,i.kt)("p",null,"Controls when reports are sent (e.g. only on wifi) and can restart an application after a crash"),(0,i.kt)(l.TP,{mdxType:"GradleCode"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},'implementation("ch.acra:acra-advanced-scheduler:$acraVersion")\n')),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-groovy"},'implementation "ch.acra:acra-advanced-scheduler:$acraVersion"\n'))),(0,i.kt)("h2",{id:"configuration"},"Configuration"),(0,i.kt)("p",null,"If you don't already have an ",(0,i.kt)("inlineCode",{parentName:"p"},"Application")," class, create one. "),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Creating an Application class")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Create a new class in your package root."),(0,i.kt)("li",{parentName:"ul"},"Give it a name like: ",(0,i.kt)("inlineCode",{parentName:"li"},"MyApplication")," extending from ",(0,i.kt)("inlineCode",{parentName:"li"},"android.app.Application")," (or another subclass of that)"),(0,i.kt)("li",{parentName:"ul"},"Update the ",(0,i.kt)("inlineCode",{parentName:"li"},"application")," element in your ",(0,i.kt)("inlineCode",{parentName:"li"},"AndroidManifest.xml")," to reference the new class.")),(0,i.kt)("p",null,"ACRA is configured inside your ",(0,i.kt)("inlineCode",{parentName:"p"},"Application")," class:"),(0,i.kt)(l.l7,{mdxType:"AndroidCode"},(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},"class MyApplication : Application() {\n  override fun attachBaseContext(base:Context) {\n    super.attachBaseContext(base)\n\n    initAcra {\n        //core configuration:\n        buildConfigClass = BuildConfig::class.java\n        reportFormat = StringFormat.JSON\n        //each plugin you chose above can be configured in a block like this:\n        toast {\n            text = getString(R.string.acra_toast_text)\n            //opening this block automatically enables the plugin.\n        }\n    }\n  }\n}\n")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},"public class MyApplication extends Application {\n    @Override\n    protected void attachBaseContext(Context base) {\n        super.attachBaseContext(base);\n\n        CoreConfigurationBuilder builder = new CoreConfigurationBuilder(this);\n        //core configuration:\n        builder\n            .withBuildConfigClass(BuildConfig.class)\n            .withReportFormat(StringFormat.JSON);\n        //each plugin you chose above can be configured with its builder like this:\n        builder.getPluginConfigurationBuilder(ToastConfigurationBuilder.class)\n            .withResText(R.string.acra_toast_text)\n            //make sure to enable all plugins you want to use:\n            .withEnabled(true);\n        ACRA.init(this, builder);\n    }\n}\n"))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Full configuration options documentation:")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"pathname:///javadoc/latest/acra/org.acra.config/-core-configuration-builder"},(0,i.kt)("inlineCode",{parentName:"a"},"Core"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"pathname:///javadoc/latest/acra/org.acra.config/-http-sender-configuration-builder"},(0,i.kt)("inlineCode",{parentName:"a"},"HttpSender"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"pathname:///javadoc/latest/acra/org.acra.config/-mail-sender-configuration-builder"},(0,i.kt)("inlineCode",{parentName:"a"},"MailSender"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"pathname:///javadoc/latest/acra/org.acra.config/-dialog-configuration-builder"},(0,i.kt)("inlineCode",{parentName:"a"},"Dialog"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"pathname:///javadoc/latest/acra/org.acra.config/-notification-configuration-builder"},(0,i.kt)("inlineCode",{parentName:"a"},"Notification"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"pathname:///javadoc/latest/acra/org.acra.config/-toast-configuration-builder"},(0,i.kt)("inlineCode",{parentName:"a"},"Toast"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"pathname:///javadoc/latest/acra/org.acra.config/-limiter-configuration-builder"},(0,i.kt)("inlineCode",{parentName:"a"},"Limiter"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"pathname:///javadoc/latest/acra/org.acra.config/-scheduler-configuration-builder"},(0,i.kt)("inlineCode",{parentName:"a"},"Scheduler")))),(0,i.kt)("p",null,"See also: ",(0,i.kt)("a",{parentName:"p",href:"Interactions"},"Interactions"),", ",(0,i.kt)("a",{parentName:"p",href:"Senders"},"Senders")))}m.isMDXComponent=!0}}]);